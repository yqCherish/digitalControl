(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bcf0152"],{"56ea":function(t,e,i){var n=i("1c8b"),o=i("fa41"),s=i("258f");n({target:"Array",proto:!0},{fill:o}),s("fill")},"78d0":function(t,e,i){},bef8:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-container"},[i("div",{staticClass:"inner-container"},[t._m(0),i("div",{staticClass:"login-content"},[i("div",{staticClass:"top-title"},[t._v("登录")]),i("div",{staticClass:"user-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],ref:"username",staticClass:"user-input",attrs:{placeholder:"请输入账号"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),i("i",{staticClass:"el-icon-user left-icon"})]),i("div",{staticClass:"psd-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"password",staticClass:"psd-input",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),i("i",{staticClass:"el-icon-lock left-icon"})]),i("div",{staticClass:"verify-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.verify_code,expression:"verify_code"}],staticClass:"verify-input",attrs:{placeholder:"请输入验证码"},domProps:{value:t.verify_code},on:{input:function(e){e.target.composing||(t.verify_code=e.target.value)}}}),i("i",{staticClass:"el-icon-s-check left-icon"}),i("identify",{attrs:{"content-height":49,fresh:t.flag},on:{makedCode:t.getMakedCode}})],1),i("a",{staticClass:"login-btn",on:{click:t.handleLogin}},[t._v("登 录")]),i("a",{staticClass:"forget"},[t._v("忘记密码？ ")])])])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left-img-box"},[n("img",{staticClass:"left-img",attrs:{src:i("dc97")}})])}],s=(i("fe8a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"s-canvas"},[i("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])}),r=[],a=(i("513c"),i("56ea"),{name:"SIdentify",props:{fresh:!0,fontSizeMin:{type:Number,default:20},fontSizeMax:{type:Number,default:36},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:114},contentHeight:{type:Number,default:38}},data:function(){return{identifyCodes:"1234567890",identifyCode:""}},watch:{fresh:function(){this.makeCode(this.identifyCodes,4)}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var i=this.randomNum(t,e),n=this.randomNum(t,e),o=this.randomNum(t,e);return"rgb("+i+","+n+","+o+")"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var i=0;i<this.identifyCode.length;i++)this.drawText(e,this.identifyCode[i],i);this.drawDot(e)},drawText:function(t,e,i){t.fillStyle=this.randomColor(this.colorMin,this.colorMax),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var n=(i+1)*(this.contentWidth/(this.identifyCode.length+1)),o=this.randomNum(this.fontSizeMax,this.contentHeight-5),s=this.randomNum(-10,10);t.translate(n,o),t.rotate(s*Math.PI/180),t.fillText(e,0,0),t.rotate(-s*Math.PI/180),t.translate(-n,-o)},drawLine:function(t){for(var e=0;e<3;e++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<30;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()},makeCode:function(t,e){console.log("makeCode"),this.identifyCode="";for(var i=0;i<e;i++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)];this.drawPic(),this.$emit("makedCode",this.identifyCode)}}}),d=a,c=i("cba8"),l=Object(c["a"])(d,s,r,!1,null,null,null),u=l.exports,h={components:{identify:u},data:function(){return{username:"",password:"",verify_code:"",flag:!0,redirect:void 0,otherQuery:{},maked_code:""}},watch:{$route:{handler:function(t){var e=t.query;e&&(this.redirect=e.redirect,this.otherQuery=this.getOtherQuery(e))},immediate:!0}},mounted:function(){this.flag=!this.flag},methods:{getMakedCode:function(t){this.maked_code=t},handleLogin:function(){this.username?this.password?this.verify_code?"admin"===this.username?(this.$store.commit("user/SET_IDENTITY",1),this.$router.push({path:"/"})):"leader"===this.username?(this.$store.commit("user/SET_IDENTITY",2),this.$router.push({path:"/"})):"user"===this.username&&(this.$store.commit("user/SET_IDENTITY",3),this.$router.push({name:"DashboardUser"})):this.$message.error("请输入验证码"):this.$message.error("请输入密码"):this.$message.error("请输入用户名")},getOtherQuery:function(t){return Object.keys(t).reduce((function(e,i){return"redirect"!==i&&(e[i]=t[i]),e}),{})}}},m=h,f=(i("d1fb"),Object(c["a"])(m,n,o,!1,null,"3489f51d",null));e["default"]=f.exports},d1fb:function(t,e,i){"use strict";i("78d0")},dc97:function(t,e,i){t.exports=i.p+"img/bg.d98e00e9.png"},fa41:function(t,e,i){"use strict";var n=i("3553"),o=i("e1d6"),s=i("d88d");t.exports=function(t){var e=n(this),i=s(e.length),r=arguments.length,a=o(r>1?arguments[1]:void 0,i),d=r>2?arguments[2]:void 0,c=void 0===d?i:o(d,i);while(c>a)e[a++]=t;return e}}}]);